<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>8.3. Setting the Hostname and Configuring the Name Service</title><meta name="generator" content="publican v4.3.2"/><meta name="keywords" content="Cấu hình, Nội địa hoá, Bản địa, Mạng, Độ phân giải tên, Người sử dụng, Các nhóm, Tài khoản, Thông dịch bằng dòng lệnh, Shell, In, Bộ tải khởi động, Biên dịch hạt nhân"/><link rel="prev" href="sect.network-config.html" title="8.2. Cấu hình Mạng"/><link rel="next" href="sect.user-group-databases.html" title="8.4. User and Group Databases"/><link xmlns="" rel="canonical" href="https://debian-handbook.info/browse/vi-VN/stable/sect.hostname-name-service.html"/></head><body onLoad="initSwitchery(); jQuery(&quot;#poptoc&quot;).load('index.html .toc:eq(0)'); jQuery('.programlisting').each(function(i, block){hljs.highlightBlock(block);});" onClick="hide('poptoc');"><header><div id="banner"><a href="http://debian-handbook.info/get/"><span class="text">Download the ebook</span></a></div><ul class="docnav top"><li class="previous"><a accesskey="p" href="sect.network-config.html"><strong>Trước đó</strong></a></li><li class="home" onClick="work=1;showhide('poptoc');">Sổ tay Quản trị Debian</li><li class="next"><a accesskey="n" href="sect.user-group-databases.html"><strong>Kế tiếp</strong></a></li></ul></header><div id="poptoc" class="hidden"> </div><section class="section" id="sect.hostname-name-service"><div class="titlepage"><div><div><h2 class="title"><a xmlns="" id="sect.hostname-name-service"/>8.3. Setting the Hostname and Configuring the Name Service</h2></div></div></div>
		
		 <a id="id-1.11.7.2" class="indexterm"></a>
		 <a id="id-1.11.7.3" class="indexterm"></a>
		 <p>
			The purpose of assigning names to IP numbers is to make them easier for people to remember. In reality, an IP address identifies a network interface associated with a device such as a network card. Since each machine can have several network cards, and several interfaces on each card, one single computer can have several names in the domain name system.
		</p>
		 <p>
			Each machine is, however, identified by a main (or “canonical”) name, stored in the <code class="filename">/etc/hostname</code> file and communicated to the Linux kernel by initialization scripts through the <span class="command"><strong>hostname</strong></span> command. The current value is available in a virtual filesystem, and you can get it with the <span class="command"><strong>cat /proc/sys/kernel/hostname</strong></span> command.
		</p>
		 <a id="id-1.11.7.6" class="indexterm"></a>
		 <div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>BACK TO BASICS</em></span> <code class="filename">/proc/</code> and <code class="filename">/sys/</code>, virtual filesystems</strong></p></div></div></div> 
		 <a id="id-1.11.7.7.2" class="indexterm"></a>
		 <a id="id-1.11.7.7.3" class="indexterm"></a>
		 <a id="id-1.11.7.7.4" class="indexterm"></a>
		 <a id="id-1.11.7.7.5" class="indexterm"></a>
		 <p>
			The <code class="filename">/proc/</code> and <code class="filename">/sys/</code> file trees are generated by “virtual” filesystems. This is a practical means of recovering information from the kernel (by listing virtual files) and communicating them to it (by writing to virtual files).
		</p>
		 <p>
			<code class="filename">/sys/</code> in particular is designed to provide access to internal kernel objects, especially those representing the various devices in the system. The kernel can, thus, share various pieces of information: the status of each device (for example, if it is in energy saving mode), whether it is a removable device, etc. Note that <code class="filename">/sys/</code> has only existed since kernel version 2.6.
		</p>
		 </div> <p>
			Surprisingly, the domain name is not managed in the same way, but comes from the complete name of the machine, acquired through name resolution. You can change it in the <code class="filename">/etc/hosts</code> file; simply write a complete name for the machine there at the beginning of the list of names associated with the address of the machine, as in the following example:
		</p>
		 <div class="informalexample"> 
<pre class="programlisting">
127.0.0.1     localhost
192.168.0.1   arrakis.falcot.com arrakis
</pre>
		 </div> <a id="id-1.11.7.10" class="indexterm"></a>
		 <a id="id-1.11.7.11" class="indexterm"></a>
		 <a id="id-1.11.7.12" class="indexterm"></a>
		 <a id="id-1.11.7.13" class="indexterm"></a>
		 <a id="id-1.11.7.14" class="indexterm"></a>
		 <section class="section" id="sect.name-resolution"><div class="titlepage"><div><div><h3 class="title"><a xmlns="" id="sect.name-resolution"/>8.3.1. Name Resolution</h3></div></div></div>
			
			 <a id="id-1.11.7.15.2" class="indexterm"></a>
			 <a id="id-1.11.7.15.3" class="indexterm"></a>
			 <p>
				The mechanism for name resolution in Linux is modular and can use various sources of information declared in the <code class="filename">/etc/nsswitch.conf</code> file. The entry that involves host name resolution is <code class="literal">hosts</code>. By default, it contains <code class="literal">files dns</code>, which means that the system consults the <code class="filename">/etc/hosts</code> file first, then DNS servers. NIS/NIS+ or LDAP servers are other possible sources.
			</p>
			 <div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>NOTE</em></span> NSS and DNS</strong></p></div></div></div> 
			 <p>
				Be aware that the commands specifically intended to query DNS (especially <span class="command"><strong>host</strong></span>) do not use the standard name resolution mechanism (NSS). As a consequence, they do not take into consideration <code class="filename">/etc/nsswitch.conf</code>, and thus, not <code class="filename">/etc/hosts</code> either.
			</p>
			 </div> <section class="section" id="sect.dns-server-configuration"><div class="titlepage"><div><div><h4 class="title"><a xmlns="" id="sect.dns-server-configuration"/>8.3.1.1. Configuring DNS Servers</h4></div></div></div>
				
				 <a id="id-1.11.7.15.6.2" class="indexterm"></a>
				 <a id="id-1.11.7.15.6.3" class="indexterm"></a>
				 <p>
					DNS (Domain Name Service) is a distributed and hierarchical service mapping names to IP addresses, and vice-versa. Specifically, it can turn a human-friendly name such as <code class="literal">www.eyrolles.com</code> into the actual IP address, <code class="literal">213.244.11.247</code>.
				</p>
				 <p>
					To access DNS information, a DNS server must be available to relay requests. Falcot Corp has its own, but an individual user is more likely to use the DNS servers provided by their ISP.
				</p>
				 <a id="id-1.11.7.15.6.6" class="indexterm"></a>
				 <a id="id-1.11.7.15.6.7" class="indexterm"></a>
				 <p>
					The DNS servers to be used are indicated in the <code class="filename">/etc/resolv.conf</code>, one per line, with the <code class="literal">nameserver</code> keyword preceding an IP address, as in the following example:
				</p>
				 
<pre class="programlisting">
nameserver 212.27.32.176
nameserver 212.27.32.177
nameserver 8.8.8.8
</pre>
				 <p>
					Note that the <code class="filename">/etc/resolv.conf</code> file may be handled automatically (and overwritten) when the network is managed by NetworkManager or configured via DHCP.
				</p>

			</section>
			 <section class="section" id="sect.etc-hosts"><div class="titlepage"><div><div><h4 class="title"><a xmlns="" id="sect.etc-hosts"/>8.3.1.2. The <code class="filename">/etc/hosts</code> file</h4></div></div></div>
				
				 <a id="id-1.11.7.15.7.2" class="indexterm"></a>
				 <a id="id-1.11.7.15.7.3" class="indexterm"></a>
				 <p>
					If there is no name server on the local network, it is still possible to establish a small table mapping IP addresses and machine hostnames in the <code class="filename">/etc/hosts</code> file, usually reserved for local network stations. The syntax of this file is very simple: each line indicates a specific IP address followed by the list of any associated names (the first being “completely qualified”, meaning it includes the domain name).
				</p>
				 <p>
					This file is available even during network outages or when DNS servers are unreachable, but will only really be useful when duplicated on all the machines on the network. The slightest alteration in correspondence will require the file to be updated everywhere. This is why <code class="filename">/etc/hosts</code> generally only contains the most important entries.
				</p>
				 <p>
					This file will be sufficient for a small network not connected to the Internet, but with 5 machines or more, it is recommended to install a proper DNS server.
				</p>
				 <div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>TIP</em></span> Bypassing DNS</strong></p></div></div></div> 
				 <p>
					Since applications check the <code class="filename">/etc/hosts</code> file before querying DNS, it is possible to include information in there that is different from what the DNS would return, and therefore to bypass normal DNS-based name resolution.
				</p>
				 <p>
					This allows, in the event of DNS changes not yet propagated, to test access to a website with the intended name even if this name is not properly mapped to the correct IP address yet.
				</p>
				 <p>
					Another possible use is to redirect traffic intended for a specific host to the localhost, thus preventing any communication with the given host. For example, hostnames of servers dedicated to serving ads could be diverted which would bypass these ads resulting in more fluid, less distracting, navigation.
				</p>
				 </div>
			</section>

		</section>

	</section><footer/></body></html>